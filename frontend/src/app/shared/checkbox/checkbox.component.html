<div class="flex flex-col gap-3">
  <label
    class="text-sm font-semibold text-primary flex items-center gap-1 px-2"
  >
    <ng-content></ng-content>
    <span *ngIf="required" class="text-red-500">*</span>
  </label>

  <div *ngFor="let checkbox of checkboxes" class="flex items-center gap-2 px-2">
    <input
      type="checkbox"
      [id]="checkbox.id"
      [(ngModel)]="checkbox.checked"
      [checked]="selectedValues.includes(checkbox.id)"
      (change)="onCheckboxChange($event, checkbox.id)"
      class="form-checkbox h-4 w-4 text-primary"
      [disabled]="checkbox.disabled !== undefined ? checkbox.disabled : false"
    />
    <label [for]="checkbox.id" class="text-sm text-primary">{{
      checkbox.label
    }}</label>
  </div>

  <div *ngIf="isInvalid" class="text-red-500 text-xs px-2">
    {{ errorMessage }}
  </div>
</div>
